(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-395938f2"],{"07ac":function(e,t,a){var n=a("23e7"),o=a("6f53").values;n({target:"Object",stat:!0},{values:function(e){return o(e)}})},"0b42":function(e,t,a){var n=a("da84"),o=a("e8b5"),r=a("68ee"),s=a("861d"),l=a("b622"),i=l("species"),c=n.Array;e.exports=function(e){var t;return o(e)&&(t=e.constructor,r(t)&&(t===c||o(t.prototype))?t=void 0:s(t)&&(t=t[i],null===t&&(t=void 0))),void 0===t?c:t}},"0cb2":function(e,t,a){var n=a("e330"),o=a("7b0b"),r=Math.floor,s=n("".charAt),l=n("".replace),i=n("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,d=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,a,n,u,p){var g=a+e.length,h=n.length,f=d;return void 0!==u&&(u=o(u),f=c),l(p,f,(function(o,l){var c;switch(s(l,0)){case"$":return"$";case"&":return e;case"`":return i(t,0,a);case"'":return i(t,g);case"<":c=u[i(l,1,-1)];break;default:var d=+l;if(0===d)return o;if(d>h){var p=r(d/10);return 0===p?o:p<=h?void 0===n[p-1]?s(l,1):n[p-1]+s(l,1):o}c=n[d-1]}return void 0===c?"":c}))}},"107c":function(e,t,a){var n=a("d039"),o=a("da84"),r=o.RegExp;e.exports=n((function(){var e=r("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},1276:function(e,t,a){"use strict";var n=a("2ba4"),o=a("c65b"),r=a("e330"),s=a("d784"),l=a("44e7"),i=a("825a"),c=a("1d80"),d=a("4840"),u=a("8aa5"),p=a("50c4"),g=a("577e"),h=a("dc4a"),f=a("f36a"),_=a("14c3"),v=a("9263"),b=a("9f7f"),m=a("d039"),x=b.UNSUPPORTED_Y,y=4294967295,w=Math.min,k=[].push,S=r(/./.exec),$=r(k),D=r("".slice),N=!m((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var a="ab".split(e);return 2!==a.length||"a"!==a[0]||"b"!==a[1]}));s("split",(function(e,t,a){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,a){var r=g(c(this)),s=void 0===a?y:a>>>0;if(0===s)return[];if(void 0===e)return[r];if(!l(e))return o(t,r,e,s);var i,d,u,p=[],h=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),_=0,b=new RegExp(e.source,h+"g");while(i=o(v,b,r)){if(d=b.lastIndex,d>_&&($(p,D(r,_,i.index)),i.length>1&&i.index<r.length&&n(k,p,f(i,1)),u=i[0].length,_=d,p.length>=s))break;b.lastIndex===i.index&&b.lastIndex++}return _===r.length?!u&&S(b,"")||$(p,""):$(p,D(r,_)),p.length>s?f(p,0,s):p}:"0".split(void 0,0).length?function(e,a){return void 0===e&&0===a?[]:o(t,this,e,a)}:t,[function(t,a){var n=c(this),s=void 0==t?void 0:h(t,e);return s?o(s,t,n,a):o(r,g(n),t,a)},function(e,n){var o=i(this),s=g(e),l=a(r,o,s,n,r!==t);if(l.done)return l.value;var c=d(o,RegExp),h=o.unicode,f=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(x?"g":"y"),v=new c(x?"^(?:"+o.source+")":o,f),b=void 0===n?y:n>>>0;if(0===b)return[];if(0===s.length)return null===_(v,s)?[s]:[];var m=0,k=0,S=[];while(k<s.length){v.lastIndex=x?0:k;var N,C=_(v,x?D(s,k):s);if(null===C||(N=w(p(v.lastIndex+(x?k:0)),s.length))===m)k=u(s,k,h);else{if($(S,D(s,m,k)),S.length===b)return S;for(var E=1;E<=C.length-1;E++)if($(S,C[E]),S.length===b)return S;k=m=N}}return $(S,D(s,m)),S}]}),!N,x)},"14c3":function(e,t,a){var n=a("da84"),o=a("c65b"),r=a("825a"),s=a("1626"),l=a("c6b6"),i=a("9263"),c=n.TypeError;e.exports=function(e,t){var a=e.exec;if(s(a)){var n=o(a,e,t);return null!==n&&r(n),n}if("RegExp"===l(e))return o(i,e,t);throw c("RegExp#exec called on incompatible receiver")}},"159b":function(e,t,a){var n=a("da84"),o=a("fdbc"),r=a("785a"),s=a("17c2"),l=a("9112"),i=function(e){if(e&&e.forEach!==s)try{l(e,"forEach",s)}catch(t){e.forEach=s}};for(var c in o)o[c]&&i(n[c]&&n[c].prototype);i(r)},"17c2":function(e,t,a){"use strict";var n=a("b727").forEach,o=a("a640"),r=o("forEach");e.exports=r?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},"1dde":function(e,t,a){var n=a("d039"),o=a("b622"),r=a("2d00"),s=o("species");e.exports=function(e){return r>=51||!n((function(){var t=[],a=t.constructor={};return a[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"25f0":function(e,t,a){"use strict";var n=a("e330"),o=a("5e77").PROPER,r=a("6eeb"),s=a("825a"),l=a("3a9b"),i=a("577e"),c=a("d039"),d=a("ad6d"),u="toString",p=RegExp.prototype,g=p[u],h=n(d),f=c((function(){return"/a/b"!=g.call({source:"a",flags:"b"})})),_=o&&g.name!=u;(f||_)&&r(RegExp.prototype,u,(function(){var e=s(this),t=i(e.source),a=e.flags,n=i(void 0===a&&l(p,e)&&!("flags"in p)?h(e):a);return"/"+t+"/"+n}),{unsafe:!0})},"44e7":function(e,t,a){var n=a("861d"),o=a("c6b6"),r=a("b622"),s=r("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==o(e))}},5151:function(e,t,a){"use strict";a("a2bf")},5319:function(e,t,a){"use strict";var n=a("2ba4"),o=a("c65b"),r=a("e330"),s=a("d784"),l=a("d039"),i=a("825a"),c=a("1626"),d=a("5926"),u=a("50c4"),p=a("577e"),g=a("1d80"),h=a("8aa5"),f=a("dc4a"),_=a("0cb2"),v=a("14c3"),b=a("b622"),m=b("replace"),x=Math.max,y=Math.min,w=r([].concat),k=r([].push),S=r("".indexOf),$=r("".slice),D=function(e){return void 0===e?e:String(e)},N=function(){return"$0"==="a".replace(/./,"$0")}(),C=function(){return!!/./[m]&&""===/./[m]("a","$0")}(),E=!l((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));s("replace",(function(e,t,a){var r=C?"$":"$0";return[function(e,a){var n=g(this),r=void 0==e?void 0:f(e,m);return r?o(r,e,n,a):o(t,p(n),e,a)},function(e,o){var s=i(this),l=p(e);if("string"==typeof o&&-1===S(o,r)&&-1===S(o,"$<")){var g=a(t,s,l,o);if(g.done)return g.value}var f=c(o);f||(o=p(o));var b=s.global;if(b){var m=s.unicode;s.lastIndex=0}var N=[];while(1){var C=v(s,l);if(null===C)break;if(k(N,C),!b)break;var E=p(C[0]);""===E&&(s.lastIndex=h(l,u(s.lastIndex),m))}for(var z="",O=0,q=0;q<N.length;q++){C=N[q];for(var T=p(C[0]),I=x(y(d(C.index),l.length),0),P=[],R=1;R<C.length;R++)k(P,D(C[R]));var A=C.groups;if(f){var M=w([T],P,I,l);void 0!==A&&k(M,A);var U=p(n(o,void 0,M))}else U=_(T,l,I,P,A,o);I>=O&&(z+=$(l,O,I)+U,O=I+T.length)}return z+$(l,O)}]}),!E||!N||C)},6446:function(e,t,a){},"65f0":function(e,t,a){var n=a("0b42");e.exports=function(e,t){return new(n(e))(0===t?0:t)}},"6f53":function(e,t,a){var n=a("83ab"),o=a("e330"),r=a("df75"),s=a("fc6a"),l=a("d1e7").f,i=o(l),c=o([].push),d=function(e){return function(t){var a,o=s(t),l=r(o),d=l.length,u=0,p=[];while(d>u)a=l[u++],n&&!i(o,a)||c(p,e?[a,o[a]]:o[a]);return p}};e.exports={entries:d(!0),values:d(!1)}},8418:function(e,t,a){"use strict";var n=a("a04b"),o=a("9bf2"),r=a("5c6c");e.exports=function(e,t,a){var s=n(t);s in e?o.f(e,s,r(0,a)):e[s]=a}},"8aa5":function(e,t,a){"use strict";var n=a("6547").charAt;e.exports=function(e,t,a){return t+(a?n(e,t).length:1)}},9263:function(e,t,a){"use strict";var n=a("c65b"),o=a("e330"),r=a("577e"),s=a("ad6d"),l=a("9f7f"),i=a("5692"),c=a("7c73"),d=a("69f3").get,u=a("fce3"),p=a("107c"),g=i("native-string-replace",String.prototype.replace),h=RegExp.prototype.exec,f=h,_=o("".charAt),v=o("".indexOf),b=o("".replace),m=o("".slice),x=function(){var e=/a/,t=/b*/g;return n(h,e,"a"),n(h,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),y=l.UNSUPPORTED_Y||l.BROKEN_CARET,w=void 0!==/()??/.exec("")[1],k=x||w||y||u||p;k&&(f=function(e){var t,a,o,l,i,u,p,k=this,S=d(k),$=r(e),D=S.raw;if(D)return D.lastIndex=k.lastIndex,t=n(f,D,$),k.lastIndex=D.lastIndex,t;var N=S.groups,C=y&&k.sticky,E=n(s,k),z=k.source,O=0,q=$;if(C&&(E=b(E,"y",""),-1===v(E,"g")&&(E+="g"),q=m($,k.lastIndex),k.lastIndex>0&&(!k.multiline||k.multiline&&"\n"!==_($,k.lastIndex-1))&&(z="(?: "+z+")",q=" "+q,O++),a=new RegExp("^(?:"+z+")",E)),w&&(a=new RegExp("^"+z+"$(?!\\s)",E)),x&&(o=k.lastIndex),l=n(h,C?a:k,q),C?l?(l.input=m(l.input,O),l[0]=m(l[0],O),l.index=k.lastIndex,k.lastIndex+=l[0].length):k.lastIndex=0:x&&l&&(k.lastIndex=k.global?l.index+l[0].length:o),w&&l&&l.length>1&&n(g,l[0],a,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(l[i]=void 0)})),l&&N)for(l.groups=u=c(null),i=0;i<N.length;i++)p=N[i],u[p[0]]=l[p[1]];return l}),e.exports=f},"9f7f":function(e,t,a){var n=a("d039"),o=a("da84"),r=o.RegExp;t.UNSUPPORTED_Y=n((function(){var e=r("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=n((function(){var e=r("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},a2bf:function(e,t,a){},a585:function(e,t,a){"use strict";a("6446")},a640:function(e,t,a){"use strict";var n=a("d039");e.exports=function(e,t){var a=[][e];return!!a&&n((function(){a.call(null,t||function(){throw 1},1)}))}},ac1f:function(e,t,a){"use strict";var n=a("23e7"),o=a("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},ad6d:function(e,t,a){"use strict";var n=a("825a");e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},b727:function(e,t,a){var n=a("0366"),o=a("e330"),r=a("44ad"),s=a("7b0b"),l=a("07fa"),i=a("65f0"),c=o([].push),d=function(e){var t=1==e,a=2==e,o=3==e,d=4==e,u=6==e,p=7==e,g=5==e||u;return function(h,f,_,v){for(var b,m,x=s(h),y=r(x),w=n(f,_),k=l(y),S=0,$=v||i,D=t?$(h,k):a||p?$(h,0):void 0;k>S;S++)if((g||S in y)&&(b=y[S],m=w(b,S,x),e))if(t)D[S]=m;else if(m)switch(e){case 3:return!0;case 5:return b;case 6:return S;case 2:c(D,b)}else switch(e){case 4:return!1;case 7:c(D,b)}return u?-1:o||d?d:D}};e.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6),filterReject:d(7)}},bb51:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"navbar"},[a("div"),a("div",[e.value?a("span",{staticStyle:{color:"white","margin-right":"5px"}},[e._v("電腦版")]):a("span",{staticStyle:{color:"white","margin-right":"5px"}},[e._v("手機版")]),a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1),a("el-button",{attrs:{type:"primary"},on:{click:e.logout}},[e._v("登出")])],1),a("el-card",{staticClass:"app-container"},[a("el-row",{staticStyle:{margin:"5px"}},[a("el-collapse",{on:{change:e.handleChange},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{name:"1"}},[a("template",{slot:"title"},[a("h2",{staticStyle:{"margin-right":"5px"}},[e._v("展開/收縮")]),a("h2",[e._v(" 查詢條件 "),a("i",{staticClass:"el-icon-search"})])]),a("el-col",{attrs:{xs:7,sm:3,md:3,lg:3}},[e._v(" 只查下單料號 ")]),a("el-col",{staticStyle:{"padding-left":"2.5px","padding-right":"2.5px"},attrs:{xs:17,sm:9,md:9,lg:9}},[a("el-checkbox",{model:{value:e.father,callback:function(t){e.father=t},expression:"father"}})],1),a("el-col",{attrs:{xs:7,sm:3,md:3,lg:3}},[a("el-checkbox",{attrs:{label:"客戶簡稱"},model:{value:e.c_sname,callback:function(t){e.c_sname=t},expression:"c_sname"}})],1),a("el-col",{staticStyle:{"padding-left":"2.5px","padding-right":"2.5px"},attrs:{xs:17,sm:9,md:9,lg:9}},[a("el-input",{staticStyle:{width:"80%"},attrs:{placeholder:"客戶簡稱"},model:{value:e.csname,callback:function(t){e.csname=t},expression:"csname"}})],1),a("el-col",{attrs:{xs:7,sm:3,md:3,lg:3}},[a("el-checkbox",{attrs:{label:"客戶單號"},model:{value:e.o_custbillcode,callback:function(t){e.o_custbillcode=t},expression:"o_custbillcode"}})],1),a("el-col",{staticStyle:{"padding-left":"2.5px","padding-right":"2.5px"},attrs:{xs:17,sm:9,md:9,lg:9}},[a("el-input",{staticStyle:{width:"80%"},attrs:{placeholder:"客戶單號"},model:{value:e.ocode,callback:function(t){e.ocode=t},expression:"ocode"}})],1),a("el-col",{attrs:{xs:7,sm:3,md:3,lg:3}},[a("el-checkbox",{attrs:{label:"訂單日期"},model:{value:e.o_date,callback:function(t){e.o_date=t},expression:"o_date"}})],1),a("el-col",{staticStyle:{"padding-left":"2.5px","padding-right":"2.5px"},attrs:{xs:17,sm:9,md:9,lg:9}},[a("el-date-picker",{attrs:{type:"date",placeholder:"選擇日期","value-format":"yyyy-MM-dd"},model:{value:e.odate1,callback:function(t){e.odate1=t},expression:"odate1"}}),e._v(" ~ "),a("el-date-picker",{attrs:{type:"date",placeholder:"選擇日期","value-format":"yyyy-MM-dd"},model:{value:e.odate2,callback:function(t){e.odate2=t},expression:"odate2"}})],1),a("el-col",{attrs:{xs:7,sm:3,md:3,lg:3}},[a("el-checkbox",{attrs:{label:"預交日期"},model:{value:e.o_targetdate,callback:function(t){e.o_targetdate=t},expression:"o_targetdate"}})],1),a("el-col",{staticStyle:{"padding-left":"2.5px","padding-right":"2.5px"},attrs:{xs:17,sm:9,md:9,lg:9}},[a("el-date-picker",{attrs:{type:"date",placeholder:"選擇日期","value-format":"yyyy-MM-dd"},model:{value:e.otargetdate1,callback:function(t){e.otargetdate1=t},expression:"otargetdate1"}}),e._v(" ~ "),a("el-date-picker",{attrs:{type:"date",placeholder:"選擇日期","value-format":"yyyy-MM-dd"},model:{value:e.otargetdate2,callback:function(t){e.otargetdate2=t},expression:"otargetdate2"}})],1),a("el-col",{attrs:{xs:7,sm:3,md:3,lg:3}},[a("el-checkbox",{attrs:{label:"產品編號"},model:{value:e.o_prodno,callback:function(t){e.o_prodno=t},expression:"o_prodno"}})],1),a("el-col",{staticStyle:{"padding-left":"2.5px","padding-right":"2.5px"},attrs:{xs:17,sm:9,md:9,lg:9}},[a("el-input",{staticStyle:{width:"80%"},attrs:{placeholder:"產品編號"},model:{value:e.pno,callback:function(t){e.pno=t},expression:"pno"}})],1),a("el-col",{attrs:{xs:7,sm:3,md:3,lg:3}},[a("el-checkbox",{attrs:{label:"產品名稱"},model:{value:e.p_name,callback:function(t){e.p_name=t},expression:"p_name"}})],1),a("el-col",{staticStyle:{"padding-left":"2.5px","padding-right":"2.5px"},attrs:{xs:17,sm:9,md:9,lg:9}},[a("el-input",{staticStyle:{width:"80%"},attrs:{placeholder:"產品名稱"},model:{value:e.pname,callback:function(t){e.pname=t},expression:"pname"}})],1),a("el-col",{attrs:{xs:24,sm:2,md:2,lg:12}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-close"},on:{click:e.clear}},[e._v(" 清除 ")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v(" 查詢 ")])],1)],2)],1)],1)],1),a("datatable",{attrs:{fatherChecked:e.father,c_sname:e.c_sname,o_custbillcode:e.o_custbillcode,o_date:e.o_date,o_targetdate:e.o_targetdate,o_prodno:e.o_prodno,p_name:e.p_name,loadingbyf:e.loadingbyf,value:e.value}})],1)},o=[],r=(a("d3b7"),a("159b"),a("07ac"),a("ac1f"),a("1276"),a("5319"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.value?a("div",[e.fatherChecked?a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.getloadingbyf,expression:"getloadingbyf"}],staticStyle:{width:"100%",height:"100%"},attrs:{data:e.pagedTableDataFather,stripe:"",border:"","row-style":{height:"70px"},"header-cell-style":{"background-color":"white",color:"black","font-weight":"200","border-radius":"4px","text-align":"center"}}},[a("el-table-column",{attrs:{type:"index",label:"序"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.index)+" ")]}}],null,!1,4160541475)}),e.c_sname?a("el-table-column",{attrs:{align:"center",prop:"c_sname",label:"客戶簡稱",width:"80"}}):e._e(),e.o_custbillcode?a("el-table-column",{attrs:{align:"center",prop:"o_custbillcode",label:"客戶單號",width:"110"}}):e._e(),e.o_date?a("el-table-column",{attrs:{align:"center",prop:"o_date",label:"訂單日期",width:"100"}}):e._e(),e.o_targetdate?a("el-table-column",{attrs:{align:"center",prop:"o_targetdate",label:"預交日期",width:"100"}}):e._e(),e.o_prodno?a("el-table-column",{attrs:{align:"center",prop:"o_prodno",label:"產品編號",width:"200"}}):e._e(),e.p_name?a("el-table-column",{attrs:{align:"center",prop:"p_name",label:"產品名稱",width:"200"}}):e._e(),a("el-table-column",{attrs:{align:"center",prop:"o_qty",label:"訂單數",width:"80"}}),a("el-table-column",{attrs:{prop:"b_process",label:"製程進度"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.b_process,(function(n){return a("el-badge",{key:n,staticClass:"item",attrs:{value:t.row.o_qty}},[a("el-tag",{attrs:{type:"info",effect:"dark"}},[e._v(e._s(e.convertString(n))+e._s(n))])],1)}))}}],null,!1,2847757770)})],1),e.fatherChecked?a("div",[a("el-pagination",{attrs:{small:"",background:"","pager-count":5,"current-page":e.$store.state.backToOne,layout:"sizes,prev, pager, next",total:e.$store.state.single.length,"page-sizes":e.pageSizes,"page-size":e.pageSize},on:{"update:currentPage":function(t){return e.$set(e.$store.state,"backToOne",t)},"update:current-page":function(t){return e.$set(e.$store.state,"backToOne",t)},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1):e._e()],1):a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.getloadingbyf,expression:"getloadingbyf"}],staticStyle:{width:"100%"},attrs:{data:e.pagedTableDataChild,stripe:"",border:"","row-style":{height:"80px"},"header-cell-style":{"background-color":"#white",color:"black","font-weight":"200","border-radius":"4px","text-align":"center"}}},[a("el-table-column",{attrs:{type:"index",label:"序"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.index)+" ")]}}],null,!1,4160541475)}),e.c_sname?a("el-table-column",{attrs:{align:"center",prop:"c_sname",label:"客戶簡稱",width:"80"}}):e._e(),e.o_custbillcode?a("el-table-column",{attrs:{align:"center",prop:"o_custbillcode",label:"客戶單號",width:"110"}}):e._e(),e.o_date?a("el-table-column",{attrs:{align:"center",prop:"o_date",label:"訂單日期",width:"100"}}):e._e(),e.o_targetdate?a("el-table-column",{attrs:{align:"center",prop:"o_targetdate",label:"預交日期",width:"100"}}):e._e(),e.o_prodno?a("el-table-column",{attrs:{align:"center",prop:"o_prodno",label:"產品編號",width:"200"}}):e._e(),e.p_name?a("el-table-column",{attrs:{align:"center",prop:"p_name",label:"產品名稱",width:"200"}}):e._e(),a("el-table-column",{attrs:{align:"center",prop:"o_qty",label:"訂單數",width:"80"}}),a("el-table-column",{attrs:{prop:"b_process",label:"製程進度"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.b_process_mp_over,(function(n,o){return a("el-badge",{key:o,staticClass:"item",attrs:{value:t.row.o_qty}},[n.mp_over?a("el-tag",{attrs:{type:"success",effect:"dark"}},[e._v(e._s(e.convertString(n.mp_process))+" "+e._s(n.mp_process))]):a("el-tag",{attrs:{type:"info",effect:"dark"}},[e._v(e._s(e.convertString(n.mp_process))+" "+e._s(n.mp_process))])],1)}))}}],null,!1,562552024)})],1)],1),e.fatherChecked?e._e():a("div",[a("el-pagination",{attrs:{small:"",background:"","pager-count":5,layout:"sizes,prev, next","current-page":e.$store.state.backToOne,total:e.$store.state.lists.length,"page-sizes":e.pageSizes,"page-size":e.pageSize},on:{"update:currentPage":function(t){return e.$set(e.$store.state,"backToOne",t)},"update:current-page":function(t){return e.$set(e.$store.state,"backToOne",t)},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)]):a("div",[e.fatherChecked?a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.getloadingbyf,expression:"getloadingbyf"}],staticStyle:{width:"100%",height:"100%"},attrs:{data:e.pagedTableDataFather,stripe:"",border:"","row-style":{height:"330px"},"header-cell-style":{"background-color":"white",color:"black","font-weight":"200","border-radius":"4px","text-align":"center"}}},[a("el-table-column",{attrs:{type:"index",label:"序"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.index)+" ")]}}],null,!1,4160541475)}),a("el-table-column",{attrs:{label:"訂單詳情"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("h3",[e._v("客戶簡稱:"+e._s(t.row.c_sname))]),a("h3",[e._v("客戶單號:"+e._s(t.row.o_custbillcode))]),a("h3",[e._v("訂單日期:"+e._s(t.row.o_date))]),a("h3",[e._v("預交日期:"+e._s(t.row.o_targetdate))]),a("h3",[e._v("產品編號:"+e._s(t.row.o_prodno))]),a("h3",[e._v("產品名稱:"+e._s(t.row.p_name))]),a("h3",[e._v("訂單數量:"+e._s(t.row.o_qty))]),a("h3",[e._v(" 製程進度:"),e._l(t.row.b_process,(function(n){return a("el-badge",{key:n,staticClass:"item",attrs:{value:t.row.o_qty}},[a("el-tag",{attrs:{type:"info",effect:"dark"}},[e._v(e._s(e.convertString(n))+e._s(n))])],1)}))],2)]}}],null,!1,1078927261)})],1),e.fatherChecked?a("div",[a("el-pagination",{attrs:{small:"",background:"","pager-count":5,"current-page":e.$store.state.backToOne,layout:"->",total:e.$store.state.single.length,"page-sizes":e.pageSizes,"page-size":e.pageSize},on:{"update:currentPage":function(t){return e.$set(e.$store.state,"backToOne",t)},"update:current-page":function(t){return e.$set(e.$store.state,"backToOne",t)},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1):e._e()],1):a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.getloadingbyf,expression:"getloadingbyf"}],staticStyle:{width:"100%"},attrs:{data:e.pagedTableDataChild,stripe:"",border:"","row-style":{height:"80px"},"header-cell-style":{"background-color":"#white",color:"black","font-weight":"200","border-radius":"4px","text-align":"center"}}},[a("el-table-column",{attrs:{type:"index",label:"序"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.index)+" ")]}}])}),a("el-table-column",{attrs:{label:"訂單詳情"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("h3",[e._v("客戶簡稱:"+e._s(t.row.c_sname))]),a("h3",[e._v("客戶單號:"+e._s(t.row.o_custbillcode))]),a("h3",[e._v("訂單日期:"+e._s(t.row.o_date))]),a("h3",[e._v("預交日期:"+e._s(t.row.o_targetdate))]),a("h3",[e._v("產品編號:"+e._s(t.row.o_prodno))]),a("h3",[e._v("產品名稱:"+e._s(t.row.p_name))]),a("h3",[e._v("訂單數量:"+e._s(t.row.o_qty))]),a("h3",[e._v(" 製程進度:"),e._l(t.row.b_process_mp_over,(function(n,o){return a("el-badge",{key:o,staticClass:"item",attrs:{value:t.row.o_qty}},[n.mp_over?a("el-tag",{attrs:{type:"success",effect:"dark"}},[e._v(e._s(e.convertString(n.mp_process))+" "+e._s(n.mp_process))]):a("el-tag",{attrs:{type:"info",effect:"dark"}},[e._v(e._s(e.convertString(n.mp_process))+" "+e._s(n.mp_process))])],1)}))],2)]}}])})],1)],1),e.fatherChecked?e._e():a("div",[a("el-pagination",{attrs:{small:"",background:"","pager-count":5,layout:"->","current-page":e.$store.state.backToOne,total:e.$store.state.lists.length,"page-sizes":e.pageSizes,"page-size":e.pageSize},on:{"update:currentPage":function(t){return e.$set(e.$store.state,"backToOne",t)},"update:current-page":function(t){return e.$set(e.$store.state,"backToOne",t)},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)]),a("div",{staticStyle:{height:"50px"}},[e.value||0==e.$store.state.single.length||0==e.$store.state.lists.length?e._e():a("div",{staticClass:"elbutton"},[a("el-button",{attrs:{type:"info",icon:"el-icon-arrow-left",id:"prev"},on:{click:function(t){return e.prev(e.page)}}}),a("span",{staticClass:"pageinfo"},[e._v("當前在第"+e._s(e.page)+"頁，共"+e._s(Math.round(e.$store.state.single.length/e.pageitem))+"筆")]),a("el-button",{attrs:{type:"info",icon:"el-icon-arrow-right",id:"next"},on:{click:function(t){return e.next(e.page)}}})],1)])])}),s=[],l=(a("d81d"),a("25f0"),a("fb6a"),{props:["fatherChecked","c_sname","o_custbillcode","o_date","o_targetdate","o_prodno","p_name","loadingbyf","value"],created:function(){this.getProcess()},beforeUpdate:function(){0!=this.$store.state.single.length?console.log("ok"):(console.log("ok is clear"),this.page=1)},data:function(){return{tableData:[],tableData1:[],process:[{mpNo:"false",mpName:"未完工"},{mpNo:"true",mpName:"完  工"},{mpNo:null,mpName:"無"},{mpNo:"",mpName:"無"}],afterprocess:[],active:0,page:1,pageSize:1,pageSizes:[1,3,10],currentPage:1,loading:!1,pageitem:1}},methods:{backOnePage:function(){this.currentPage=1},setPage:function(e){this.page=e},handleSizeChange:function(e){var t=this,a=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});setTimeout((function(){t.$store.commit("BACK_TO_ONE",1),t.pageSize=e,t.page=1,a.close()}),500),console.log("每頁 ".concat(e," 條")),this.pageitem=e},handleCurrentChange:function(e){console.log("當前頁: ".concat(e)),this.page=e},next:function(e){console.log(e),this.page=e+1},prev:function(e){this.page=e-1,0==this.page&&(this.page=1)},getProcess:function(){var e=this;this.$axios({url:"/makeprocess",method:"get"}).then((function(t){t.data.forEach((function(t){e.process.push({mpNo:t.mpNo,mpName:t.mpName})}));var a=e.process.map((function(e){var t={};return t[e.mpNo]=e.mpName,t}));e.afterprocess=a})).catch((function(e){}))},convertDate:function(e){var t=new Date(e);return t.toLocaleDateString()},indexMethod:function(e){return e+1},convertString:function(e){var t;return this.process.forEach((function(a){a.mpNo==e&&(t=a.mpName)})),t},convertArray:function(e){return e.toString().split(",")},convertTrueOrFalse:function(e){return e==(!0).toString()}},computed:{pagedTableDataFather:function(){return this.$store.state.single.slice(this.pageSize*this.page-this.pageSize,this.pageSize*this.page)},pagedTableDataChild:function(){return this.$store.state.lists.slice(this.pageSize*this.page-this.pageSize,this.pageSize*this.page)},getloadingbyf:function(){return this.loadingbyf},test:function(){return this.fatherChecked}}}),i=l,c=(a("5151"),a("2877")),d=Object(c["a"])(i,r,s,!1,null,"df097d6a",null),u=d.exports,p={name:"Home",components:{datatable:u},data:function(){return{activeNames:["1"],value:!0,father:!0,c_sname:!0,o_custbillcode:!0,o_date:!1,o_targetdate:!1,o_prodno:!0,p_name:!1,pname:"",pno:"",csname:"",ocode:"",odate1:"",odate2:"",otargetdate1:"",otargetdate2:"",loadingbyf:!1}},methods:{handleChange:function(e){},search:function(){var e=this;this.$store.state.single=[],this.$store.state.lists=[];var t={csname:this.csname,pname:this.pname,pno:this.pno,ocode:this.ocode,odate1:this.odate1,odate2:this.odate2,otargetdate1:this.otargetdate1,otargetdate2:this.otargetdate2};this.odate1=this.isDateNull(this.odate1),this.odate2=this.isDateNull(this.odate2),this.otargetdate1=this.isDateNull(this.otargetdate1),this.otargetdate2=this.isDateNull(this.otargetdate2),t.odate1=this.isDateNull(this.odate1),t.odate2=this.isDateNull(this.odate2),t.otargetdate1=this.isDateNull(this.otargetdate1),t.otargetdate2=this.isDateNull(this.otargetdate2),this.odate2=this.defaultDatePlus30(this.odate1,this.odate2),t.odate2=this.defaultDatePlus30(this.odate1,this.odate2),this.otargetdate2=this.defaultDatePlus30(this.otargetdate1,this.otargetdate2),t.otargetdate2=this.defaultDatePlus30(this.otargetdate1,this.otargetdate2),0!=this.odate1.length||0!=this.otargetdate1.length?(console.log("有填日期"),new Date(this.odate2)-new Date(this.odate1)<=27648e5||new Date(this.otargetdate2)-new Date(this.otargetdate1)<=27648e5?isNaN(new Date(this.odate2)-new Date(this.odate1))&&isNaN(new Date(this.otargetdate2)-new Date(this.otargetdate1))||(console.log("ok 可進行查詢"),this.loadingbyf=!0,this.$store.commit("BACK_TO_ONE",1),this.activeNames=[],console.log(t),this.$axios({url:"/fatherwhere",method:"post",data:t}).then((function(t){console.log("開始");var a=[];if(200==t.status){t.data.forEach((function(t,n){7!=t.o_status&&a.push({index:n,p_id:t.p_id,b_process:e.convertArray(t.b_process),c_sname:t.c_sname,o_billqty:t.o_billqty,o_custbillcode:t.o_code,o_date:e.convertDate(t.o_date),o_qty:t.o_qty,o_targetdate:e.convertDate(t.o_targetdate),p_name:t.p_name,o_prodno:t.o_prodno})}));var n=[];a.forEach((function(e,t){n.push({index:t+1,p_id:e.p_id,b_process:e.b_process,c_sname:e.c_sname,o_billqty:e.o_billqty,o_custbillcode:e.o_code,o_date:e.o_date,o_qty:e.o_qty,o_targetdate:e.o_targetdate,p_name:e.p_name,o_prodno:e.o_prodno})})),e.$store.commit("tableData",n),e.loadingbyf=!1}})),this.$axios({url:"/childwhere",method:"post",data:t}).then((function(t){var a=[];t.data.forEach((function(t){7!=t.o_status&&a.push({p_id:t.p_id,mp_over:t.mp_over,b_process:t.mp_process,c_sname:t.c_sname,o_billqty:t.o_billqty,o_custbillcode:t.o_code,o_date:e.convertDate(t.o_date),o_qty:t.o_qty,o_targetdate:e.convertDate(t.o_targetdate),p_name:t.p_name,o_prodno:t.o_prodno})}));for(var n={},o=0;o<a.length;o++)"undefined"===typeof n[a[o].p_id]?n[a[o].p_id]={p_id:a[o].p_id,o_custbillcode:a[o].o_custbillcode,o_qty:a[o].o_qty,o_prodno:a[o].o_prodno,o_targetdate:a[o].o_targetdate,o_billqty:a[o].o_billqty,c_sname:a[o].c_sname,b_process_mp_over:[{mp_process:a[o].b_process,mp_over:a[o].mp_over}],o_date:a[o].o_date,p_name:a[o].p_name}:n[a[o].p_id].b_process_mp_over.push({mp_process:a[o].b_process,mp_over:a[o].mp_over});var r=Object.values(n),s=[];r.forEach((function(e,t){s.push({index:t+1,b_process_mp_over:e.b_process_mp_over,c_sname:e.c_sname,o_billqty:e.o_billqty,o_custbillcode:e.o_custbillcode,o_date:e.o_date,o_prodno:e.o_prodno,o_qty:e.o_qty,o_targetdate:e.o_targetdate,p_id:e.p_id,p_name:e.p_name})})),e.$store.commit("tableDatas",s)}))):alert("請勿超過一個月")):alert("第一格訂單或預交日期不可為空")},clear:function(){this.$store.state.single=[],this.$store.state.lists=[]},convertDate:function(e){var t=new Date(e);return t.toLocaleDateString()},convertString:function(e){var t;return this.process.forEach((function(a){a.mpNo==e&&(t=a.mpName)})),t},convertArray:function(e){return e.split(";")},convertArray1:function(e){return e.split(",")},logout:function(){this.$router.replace({name:"Login"})},datePlus30:function(e){var t=new Date(e),a=new Date(t);return a.setDate(t.getDate()+0),console.log(a.getDate()),a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate()},isDateNull:function(e){return null==e&&(e=""),e},defaultDatePlus30:function(e,t){return 0!=e.length&&0==t.length&&(t=this.datePlus30(e)),t}}},g=p,h=(a("a585"),Object(c["a"])(g,n,o,!1,null,"3babb4c8",null));t["default"]=h.exports},d784:function(e,t,a){"use strict";a("ac1f");var n=a("e330"),o=a("6eeb"),r=a("9263"),s=a("d039"),l=a("b622"),i=a("9112"),c=l("species"),d=RegExp.prototype;e.exports=function(e,t,a,u){var p=l(e),g=!s((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),h=g&&!s((function(){var t=!1,a=/a/;return"split"===e&&(a={},a.constructor={},a.constructor[c]=function(){return a},a.flags="",a[p]=/./[p]),a.exec=function(){return t=!0,null},a[p](""),!t}));if(!g||!h||a){var f=n(/./[p]),_=t(p,""[e],(function(e,t,a,o,s){var l=n(e),i=t.exec;return i===r||i===d.exec?g&&!s?{done:!0,value:f(t,a,o)}:{done:!0,value:l(a,t,o)}:{done:!1}}));o(String.prototype,e,_[0]),o(d,p,_[1])}u&&i(d[p],"sham",!0)}},d81d:function(e,t,a){"use strict";var n=a("23e7"),o=a("b727").map,r=a("1dde"),s=r("map");n({target:"Array",proto:!0,forced:!s},{map:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},e8b5:function(e,t,a){var n=a("c6b6");e.exports=Array.isArray||function(e){return"Array"==n(e)}},fb6a:function(e,t,a){"use strict";var n=a("23e7"),o=a("da84"),r=a("e8b5"),s=a("68ee"),l=a("861d"),i=a("23cb"),c=a("07fa"),d=a("fc6a"),u=a("8418"),p=a("b622"),g=a("1dde"),h=a("f36a"),f=g("slice"),_=p("species"),v=o.Array,b=Math.max;n({target:"Array",proto:!0,forced:!f},{slice:function(e,t){var a,n,o,p=d(this),g=c(p),f=i(e,g),m=i(void 0===t?g:t,g);if(r(p)&&(a=p.constructor,s(a)&&(a===v||r(a.prototype))?a=void 0:l(a)&&(a=a[_],null===a&&(a=void 0)),a===v||void 0===a))return h(p,f,m);for(n=new(void 0===a?v:a)(b(m-f,0)),o=0;f<m;f++,o++)f in p&&u(n,o,p[f]);return n.length=o,n}})},fce3:function(e,t,a){var n=a("d039"),o=a("da84"),r=o.RegExp;e.exports=n((function(){var e=r(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))}}]);
//# sourceMappingURL=chunk-395938f2.c9ac75fa.js.map